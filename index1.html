<html>
  <head><title>RBA Exercise2</title>
    <SCRIPT type="text/javascript" lang="javascript"
            src="http://cdn.gigya.com/js/gigya.js?apikey=4_s93qERCMB_Dw_nkV-j4SDg">
    </SCRIPT>
  </head>
  <body><h1>RBA Exercise</h1>
  <h4>Register a user and then try to login with a different browser</h4>
      <a href="#" onclick="gigya.accounts.showScreenSet({screenSet:'Default-RegistrationLogin', startScreen:'gigya-register-screen'});">Register</a>
    <a href="#" onclick="gigya.accounts.showScreenSet({screenSet:'Default-RegistrationLogin'});">Login</a>
    <span id="logout" hidden>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="#" onclick="logout();">Logout</a></span>
    <script type="text/javascript" lang="javascript">
        function logout() {
              gigya.accounts.logout({callback:function (response) {
                if (response.errorCode == 0) {
                  document.getElementById("logout").hidden=true; }
                else { alert('Error:' + response.errorMessage);
               }
             }});
        }
        gigya.accounts.getAccountInfo({callback:function (response) {
            if (response.errorCode == 0) {
              document.getElementById("logout").hidden=false;
            }
        }});
       gigya.socialize.addEventHandlers({
          onLogin: function () {
            document.getElementById("logout").hidden=false;
        }
      });
    </script>
  </body>
</html>
